<%- include('../partials/header'); -%>
<%- include('../partials/DashboardNav'); -%>

  <div class="container mt-4">
      <h1 class="mb-4 text-center">All Users</h1>
      <form class="form-inline my-2 mx-auto my-lg-0" action="/auth/dashboard/users/search" method="GET">
        <input class="form-control mr-sm-2 outline-none" id="q" name="q" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    <table class="table mt-4">
    
        <thead class="thead-dark">
          <tr>
            <th scope="col">#ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            <th scope="col">Admin</th>
            <th scope="col">Created At</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
            <% users.forEach( (user)=> {%>
          <tr>
            <th scope="row"><%= user.id %></th>
            <td><%= user.fname%></td>
            <td><%= user.lname%></td>
            <td><%= user.email%></td>
            <td><%= user.isAdmin%></td>
            <td><%= user.createdAt.toLocaleDateString()%></td>
            <td>
                <a href="<%= '/auth/dashboard/users/delete/' + user.id %>" class=" btn btn-outline-danger">Remove Article</a>
                <a href="<%= '/auth/dashboard/users/edit/' + user.id %>" class="btn btn-outline-warning">Edit</a>
            </td>
          </tr>  
          <% }) %>
      </table>
  </div>


<%- include('../partials/footer'); -%>
